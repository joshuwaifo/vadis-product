Looking at the codebase, I can explain the workflow behind script breakdown into scenes. The process involves several steps from file upload to AI analysis:

1. File Upload and Initial Processing
The workflow starts in server/services/pdf-service.ts when a script file is uploaded:

Text Extraction: The system extracts text from PDFs or images using extractTextFromPdf() or extractTextFromImage()

Title Extraction: It looks for a potential title in the first 10 lines by finding all-caps text that doesn't contain scene indicators like "EXT." or "INT."

2. Scene Extraction Logic
The core scene breakdown happens in the extractScenes() function:

function extractScenes(scriptText: string): ExtractedScene[]
This function uses multiple regex patterns to identify scene boundaries:

Standard Scene Headings: /(INT\.?|EXT\.?|I\/E\.?|INT\/EXT\.?)[\s\.\-]+(.*?)(?:\s*[-\s]+\s*)(DAY|NIGHT|EVENING|...)/gi
Numbered Scenes: /^\s*(\d+)[\.\)]\s+(?!INT\.?|EXT\.?...)([^\n]+)$/gim
The system:

Finds all scene heading matches
Sorts them by position in the script
Extracts content between each scene heading
Creates ExtractedScene objects with sceneNumber, heading, and content
3. Fallback Scene Creation
If no standard scene headings are found, createFallbackScenes() creates scenes by:

Splitting text into paragraphs
Grouping 5 paragraphs per scene
Creating basic scene structures
4. Database Storage
In server/routes.ts, the extracted scenes are stored:

const createdScenes: DbScene[] = [];
for (const sceneData of parsedScript.scenes) {
    const newScene = await storage.createScene({
        scriptId: script.id,
        sceneNumber: sceneData.sceneNumber,
        heading: sanitizeString(sceneData.heading),
        content: sceneData.content,
    });
    createdScenes.push(newScene);
}
5. AI Analysis Pipeline
After scene creation, the system runs AI analysis:

Brandable Scene Analysis: identifyBrandableScenesWithGemini() analyzes each scene for product placement opportunities
Scene Updates: Updates scenes with isBrandable, brandableReason, and suggestedCategories
VFX Analysis: Separately analyzes scenes for VFX potential
6. Frontend Display
The scenes are displayed in the SceneBreakdown component which:

Shows scene numbers and headings
Indicates brandable scenes with star icons
Indicates VFX scenes with sparkle icons
Allows scene selection for detailed viewing
The entire workflow ensures that uploaded scripts are properly parsed into manageable scenes that can be analyzed for various production elements like branding opportunities and VFX requirements.